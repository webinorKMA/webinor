<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GEN-Z Shop</title>

  <!-- Bootstrap -->
  <link
    rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
  />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
<!-- AOS Animation CSS -->
<link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      font-family: 'Times New Roman', Times, serif;
      margin: 0;
      background: #fffdf9;
    }

    /* Header (Transparent) */
    header {
      width: 100%;
      position: fixed;
      top: 0;
      left: 0;
      z-index: 1000;
      padding: 20px 0;
      transition: background-color 0.3s ease, box-shadow 0.3s ease, backdrop-filter 0.3s ease, color 0.3s ease;
    }

    .transparent-header {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      box-shadow: none;
    }

    header.transparent-header .logo,
    header.transparent-header nav a {
      color: white;
    }

    header.scrolled {
      background: rgba(250, 250, 250, 0.9);
      backdrop-filter: blur(10px);
      box-shadow: 0 2px 10px rgba(0,0,0,0.07);
    }

    header.scrolled .logo,
    header.scrolled nav a {
      color: #333333;
    }

    header .container {
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
      flex-wrap: nowrap;
    }

    nav ul {
      list-style: none;
      display: flex;
      flex-direction: row;
      gap: 30px;
      padding-left: 0;
      margin: 0;
    }

    nav ul li a {
      text-decoration: none;
      font-weight: 500;
      color: inherit;
    }

    @media (min-width: 768px) {
      .nav-links {
        display: flex !important;
        flex-direction: row;
        margin-top: 0;
      }
      .nav-toggle {
        display: none;
      }
    }

    /* Hero Banner */
    .hero {
      height: 100vh;
      background: url('shop page.jpg') center/cover no-repeat;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      color: white;
      position: relative;
    }

    .hero::after {
      content: "";
      position: absolute;
      inset: 0;
      background: rgba(0, 0, 0, 0.4);
    }

    .hero-content {
      position: relative;
      z-index: 1;
    }

    .hero h1 {
      font-size: 4rem;
      margin-bottom: 20px;
    }

    .hero button {
      padding: 12px 30px;
      font-size: 1.2rem;
      background: #e63946;
      color: white;
      border: none;
      border-radius: 30px;
    }

    /* Category Toggle */
    main.container {
      max-width: 1100px;
      margin: 40px auto 80px;
      padding: 0 25px;
    }
    .category-dropdown-wrapper {
      position: relative;
      margin-bottom: 30px;
      max-width: 300px;
    }
    .category-toggle-btn {
      background-color: #333333;
      color: white;
      font-weight: 600;
      padding: 12px 20px;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      width: 100%;
      text-align: left;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 16px;
      user-select: none;
      box-shadow: 0 4px 8px #222;
      transition: background-color 0.3s;
    }
    .category-toggle-btn:hover {
      background-color: #222;
    }
    .category-toggle-btn:focus {
      outline: 2px solid #333333;
    }
    .category-list {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: white;
      border-radius: 12px;
      box-shadow: 0 6px 15px rgba(0,0,0,0.15);
      margin-top: 8px;
      max-height: 240px;
      overflow-y: auto;
      z-index: 100;
      display: none;
      padding: 10px 0;
    }
    .category-list.active {
      display: block;
    }
    .category-list button {
      width: 100%;
      padding: 12px 20px;
      background: transparent;
      border: none;
      text-align: left;
      font-size: 15px;
      font-weight: 500;
      color: #333333;
      cursor: pointer;
      transition: background-color 0.2s;
      user-select: none;
    }
    .category-list button:hover, .category-list button.active {
      background-color: #e0f7ff;
      color: #333333;
      font-weight: 700;
    }
    .products-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill,minmax(240px,1fr));
      gap: 25px;
    }
    .product-card {
      background: white;
      border-radius: 15px;
      box-shadow: 0 6px 15px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
      overflow: hidden;
      transition: transform 0.25s ease, box-shadow 0.25s ease;
    }
    .product-card:hover, .product-card:focus-within {
      transform: translateY(-5px);
      box-shadow: 0 12px 25px rgba(0,0,0,0.15);
      outline: none;
    }
    .product-image-wrapper {
      width: 100%;
      height: 220px;
      overflow: hidden;
      cursor: pointer;
      background: #f8faff;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .product-image-wrapper img {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
      transition: transform 0.3s ease;
    }
    .product-image-wrapper:hover img {
      transform: scale(1.05);
    }
    .product-info {
      padding: 15px 20px;
      flex-grow: 1;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    .product-name {
      font-weight: 700;
      font-size: 17px;
      color: #333333;
      margin-bottom: 6px;
    }
    .product-price {
      font-weight: 600;
      font-size: 16px;
      color: black;
      margin-bottom: 15px;
    }
    .add-to-cart-btn {
      background: #333333;
      color: white;
      border: none;
      padding: 12px 15px;
      border-radius: 25px;
      font-weight: 700;
      cursor: pointer;
      transition: background-color 0.3s;
      user-select: none;
    }
    .add-to-cart-btn:hover, .add-to-cart-btn:focus {
      background: black;
      outline: none;
    }
    .modal-bg {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.5);
      display: none;
      justify-content: center;
      align-items: center;
      padding: 20px;
      z-index: 9999;
    }
    .modal-bg.active {
      display: flex;
    }
    .modal-content {
      background: white;
      border-radius: 15px;
      max-width: 900px;
      width: 50%;
      display: flex;
      flex-wrap: wrap;
      overflow: hidden;
      box-shadow: 0 12px 30px rgba(0,0,0,0.25);
    }
    .modal-image-wrapper {
      flex: 1 1 50%;
      min-width: 300px;
      background: #f8faff;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 25px;
    }
    .modal-image-wrapper img {
      max-width: 100%;
      max-height: 200px;
      object-fit: contain;
      border-radius: 12px;
    }
    .modal-details {
      flex: 1 1 50%;
      padding: 30px 35px;
      display: flex;
      flex-direction: column;
    }
    .modal-details h2 {
      color: #333333;
      margin-bottom: 12px;
      font-size: 26px;
      font-family: 'Times New Roman', Times, serif;
    }
    .modal-details .description {
      font-size: 16px;
      color: #444;
      line-height: 1.6;
      margin-bottom: 20px;
      flex-grow: 1;
    }

    .option-group {
      margin-bottom: 20px;
    }
    .option-group label {
      font-weight: 600;
      color: #333333;
      margin-bottom: 8px;
      display: block;
    }
    .colors-list {
      display: flex;
      gap: 12px;
    }
    .color-circle {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      border: 2px solid transparent;
      cursor: pointer;
      transition: border-color 0.3s;
      user-select: none;
    }
    .color-circle.selected {
      border-color: #333333;
      box-shadow: 0 0 8px #00c2ffaa;
    }
    .color-circle.blue { background: #3b82f6; }
    .color-circle.black { background: #000; }
    .color-circle.gray { background: #6b7280; }
    .color-circle.red { background: #ef4444; }
    .color-circle.green { background: #22c55e; }
    .color-circle.brown { background: #8b4513; }
    .color-circle.orange { background: #f97316; }
    .sizes-list {
      display: flex;
      gap: 15px;
    }
    .size-btn {
      padding: 8px 18px;
      background: #e0f7ff;
      border: 2px solid transparent;
      border-radius: 25px;
      font-weight: 600;
      color: #333333;
      cursor: pointer;
      user-select: none;
      transition: background-color 0.3s, border-color 0.3s;
    }
    .size-btn:hover {
      background-color: #b6e2ff;
    }
    .size-btn.selected {
      background-color: #333333;
      color: white;
      border-color: #333333;
    }
    .modal-add-btn {
      background: #333333;
      border: none;
      color: white;
      padding: 14px 25px;
      font-weight: 700;
      font-size: 17px;
      border-radius: 30px;
      cursor: pointer;
      margin-top: auto;
      transition: background-color 0.3s;
      user-select: none;
    }
    .modal-add-btn:hover, .modal-add-btn:focus {
      background: #333333;
      outline: none;
    }
    .modal-close-btn {
      position: absolute;
      top: 15px;
      right: 20px;
      background: transparent;
      border: none;
      font-size: 28px;
      color: #888;
      cursor: pointer;
      font-weight: 700;
      user-select: none;
      transition: color 0.3s;
    }
    .modal-close-btn:hover {
      color: #333333;
    }
    @media (max-width: 768px) {
      .modal-content {
        flex-direction: column;
      }
      .modal-image-wrapper,
      .modal-details {
        flex: 1 1 100%;
        max-width: 100%;
      }
    }
  .product-card {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.4s ease, transform 0.4s ease;
  }
  .product-card.visible {
    opacity: 1;
    transform: translateY(0);
  }

  #categoryList {
    transition: max-height 0.3s ease, opacity 0.3s ease;
    max-height: 0;
    opacity: 0;
    overflow: hidden;
  }
  #categoryList.active {
    max-height: 500px; 
    opacity: 1;
  }

  
  #modalBg.active {
    animation: fadeInModal 0.3s forwards;
  }
  @keyframes fadeInModal {
    from {opacity: 0;}
    to {opacity: 1;}
  }
    /* Sticky Cart Button */
.sticky-cart {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: #333333;
  color: white;
  font-size: 20px;
  padding: 15px;
  border-radius: 50%;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  z-index: 2000;
  transition: background 0.3s ease, transform 0.2s ease;
}
.sticky-cart:hover {
  background: black;
  transform: scale(1.1);
  color: #fff;
}
/* Footer Social Icons */
footer a i {
  transition: color 0.3s ease, transform 0.3s ease;
}

footer a:hover i {
  color: #af9684; /* stylish beige/gold tone */
  transform: translateY(-5px); /* slight lift on hover */
}

  </style>
</head>
<body>

<!-- Header -->
<header id="main-header" class="transparent-header">
  <div class="container">
    <div class="logo">GEN-Z</div>
    <nav>
      <ul>
        <li><a href="home.html">Home</a></li>
        <li><a href="shop.html">Shop</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="contact.html">Contact</a></li>
        <li><a href="cart.html"><i class="fas fa-shopping-cart"></i></a></li>
      </ul>
    </nav>
  </div>
</header>


<!-- Hero Banner -->
<section class="hero" data-aos="fade-up">
  <div class="hero-content"data-aos="zoom-in">
    <h1>Unleash Your Style</h1>
<h2><strong>Shop Now</strong></h2>
  </div>
</section>

<!-- Category Toggle -->
<main class="container" role="main" aria-label="Shop Products">
    <div class="category-dropdown-wrapper">
      <button
        class="category-toggle-btn"
        aria-haspopup="listbox"
        aria-expanded="false"
        aria-labelledby="categoryLabel"
        id="categoryToggleBtn"
      >
        <span id="categoryLabel">All</span>
        <svg width="24" height="24" fill="#fff" aria-hidden="true" focusable="false" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
      </button>
      <div
        class="category-list"
        role="listbox"
        tabindex="-1"
        aria-labelledby="categoryLabel"
        id="categoryList"
      >
      </div>
    </div>
    <section class="products-grid" aria-live="polite" aria-atomic="true" id="productsGrid">
    </section>
  </main>
  <div class="modal-bg" role="dialog" aria-modal="true" aria-labelledby="modalTitle" aria-describedby="modalDesc" id="modalBg" tabindex="-1">
    <div class="modal-content">
      <button class="modal-close-btn" aria-label="Close product details">&times;</button>
      <div class="modal-image-wrapper">
        <img src="" alt="" id="modalImage" />
      </div>
      <div class="modal-details">
        <h2 id="modalTitle"></h2>
        <p class="description" id="modalDesc"></p>
        <div class="option-group" id="colorOptions">
          <label>Colors:</label>
          <div class="colors-list" role="list" aria-label="Product color options"> 
          </div>
        </div>
        <div class="option-group" id="sizeOptions">
          <label>Sizes:</label>
          <div class="sizes-list" role="list" aria-label="Product size options">  
          </div>
        </div>
        <button class="modal-add-btn" id="modalAddToCartBtn">Add to Cart</button>
      </div>
    </div>
  </div>
<!-- Footer -->
<footer style="background-color: #333333; color: white; padding: 60px 0 20px;">
  <div class="container">
    <div class="row text-center text-md-left">

      <!-- Logo + Description -->
      <div class="col-md-4 mb-4">
        <h4 style="font-family: 'Times New Roman', Times, serif; font-weight: bold;">GEN-Z</h4>
        <p style="color: #ccc; font-size: 0.95rem;">
          GEN-Z is your ultimate destination for self-expression through fashion. Wear bold, live loud, and stay unique with our trendsetting collections.
        </p>
      </div>

      <!-- Quick Links -->
      <div class="col-md-4 mb-4">
        <h5 style="font-family: 'Times New Roman', Times, serif;">Quick Links</h5>
        <ul class="list-unstyled">
          <li><a href="home.html" style="color: #ccc; text-decoration: none;">Home</a></li>
          <li><a href="shop.html" style="color: #ccc; text-decoration: none;">Shop</a></li>
          <li><a href="about.html" style="color: #ccc; text-decoration: none;">About</a></li>
          <li><a href="contact.html" style="color: #ccc; text-decoration: none;">Contact</a></li>
        </ul>
      </div>

      <!-- Contact Info -->
      <div class="col-md-4 mb-4">
        <h5 style="font-family: 'Times New Roman', Times, serif;">Contact Us</h5>
        <p style="color: #ccc; font-size: 0.95rem;">Email: info@genzfashion.com</p>
        <p style="color: #ccc; font-size: 0.95rem;">Phone: +92 336 8663311</p>
        <p style="color: #ccc; font-size: 0.95rem;">Location: Karachi, Pakistan</p>
      </div>

    </div>

    <!-- Social Media -->
    <div class="text-center mt-4">
      <a href="#" style="color: white; margin: 0 10px;"><i class="fab fa-facebook-f"></i></a>
      <a href="#" style="color: white; margin: 0 10px;"><i class="fab fa-instagram"></i></a>
      <a href="#" style="color: white; margin: 0 10px;"><i class="fab fa-twitter"></i></a>
    </div>

    <hr style="border-color: rgba(255,255,255,0.1);">

    <!-- Copyright -->
    <div class="text-center" style="color: #aaa; font-size: 0.85rem;">
      &copy; 2025 GEN-Z. All rights reserved.
    </div>
  </div>
</footer>

<!-- Scripts -->

<script>
  const categories = ["All", "Dresses", "Coats", "Shoes","Bags","Acessories" ];
  const products = [
 {
      id: 1,
      name: "Dreamy Signature",
      price: 5999,
      image: "p1.jpg",
      description: "Our Signature Dress,That Makes You Shine Like a Star And Makes You a FairyTail",
      category: "Dresses",
      colors: ["blue", "black", "gray"],
      sizes: ["S", "M", "L", "XL"]
    },
    {
      id: 2,
      name: "Classical Dress",
      price: 18000,
      image: "p2.webp",
      description: "If you want to Slay,Wear Our Most comfy dress with multiple attractive  colors.",
      category: "Dresses",
      colors: ["red", "White", "black"],
      sizes: ["XS", "S", "M", "L"]
    },
    {
      id: 3,
      name: "Korean Wool Bag",
      price: 15000,
      image: "p3.jpg",
      description: "A traditional Korean Bag made from special type of wool which  grows once a year. ",
      category: "Bags",
      colors: ["black", "gray", "blue"],
      sizes: ["M", "L", "XL"]
    },
    {
      id: 4,
      name: "Jon Bear Coat",
      price: 12000,
      image: "p4.png",
      description: "Make your Look Fantastic with our most Attractive Looking Jon Bear coat .",
      category: "Coats",
      colors: ["black", "gray"],
      sizes: ["S", "M", "L", "XL"]
    },
    {
      id: 5,
      name: " High puff Boots",
      price: 9999,
      image: "p5.jpg",
      description: "A good looking and attractive shoes is all you want to complete your look. So complete Your style with our new High Puff Boots.",
      category: "Shoes",
      colors: ["brown", "black"],
      sizes: ["M", "L", "XL", "XXL"]
    },
    {
      id: 6,
      name: "Long Armor Coat",
      price: 25000,
      image: "p6.png",
      description: "A new trend to be armored, Follow this new trend with our Armor Coat, Armored with Fashion, Style, Attractiveness.",
      category: "Coats",
      colors: ["black", "grey"],
      sizes: ["S", "M", "L"]
    },
    {
      id: 7,
      name: "Black Streamlight Goggles",
      price: 7500,
      image: "p7.png",
      description: "Want A battle with the fastest Oponent, Lets Begin Your Fight with our Brand new streamlight goggles",
      category: "Acessories",
      colors: ["gray", "black"],
      sizes: ["S", "M", "L", "XL"]
    },
    {
      id: 8,
      name: "Alligatrio Belt",
      price: 11000,
      image: "p8.jpg",
      description: "Make your fit more classy with our new collection made from the thick and though skin of Alligator.",
      category: "Acessories",
      colors: ["black", "brown"],
      sizes: ["M", "L", "XL"]
    }
  ];
  const categoryToggleBtn = document.getElementById("categoryToggleBtn");
  const categoryList = document.getElementById("categoryList");
  const categoryLabel = document.getElementById("categoryLabel");
  const productsGrid = document.getElementById("productsGrid");
  const modalBg = document.getElementById("modalBg");
  const modalCloseBtn = modalBg.querySelector(".modal-close-btn");
  const modalImage = document.getElementById("modalImage");
  const modalTitle = document.getElementById("modalTitle");
  const modalDesc = document.getElementById("modalDesc");
  const colorOptionsContainer = document.querySelector("#colorOptions .colors-list");
  const sizeOptionsContainer = document.querySelector("#sizeOptions .sizes-list");
  const modalAddToCartBtn = document.getElementById("modalAddToCartBtn");
  let currentCategory = "All";
  let currentProduct = null;
  let selectedColor = null;
  let selectedSize = null;

  function createColorCircle(color) {
    const circle = document.createElement("button");
    circle.classList.add("color-circle", color);
    circle.setAttribute("aria-label", color + " color");
    circle.setAttribute("role", "option");
    circle.setAttribute("tabindex", "-1");
    circle.type = "button";
    circle.addEventListener("click", () => {
      selectColor(color);
    });
    return circle;
  }
  function createSizeBtn(size) {
    const btn = document.createElement("button");
    btn.classList.add("size-btn");
    btn.type = "button";
    btn.textContent = size;
    btn.setAttribute("aria-label", size + " size");
    btn.setAttribute("role", "option");
    btn.setAttribute("tabindex", "-1");
    btn.addEventListener("click", () => {
      selectSize(size);
    });
    return btn;
  }

  function renderCategories() {
    categoryList.innerHTML = "";
    categories.forEach(cat => {
      const btn = document.createElement("button");
      btn.textContent = cat;
      btn.type = "button";
      btn.setAttribute("role", "option");
      btn.setAttribute("tabindex", "-1");
      if (cat === currentCategory) btn.classList.add("active");
      btn.addEventListener("click", () => {
        selectCategory(cat);
      });
      categoryList.appendChild(btn);
    });
  }

  function renderProducts() {
    productsGrid.innerHTML = "";
    const filtered = currentCategory === "All" ? products : products.filter(p => p.category === currentCategory);
    if(filtered.length === 0){
      productsGrid.innerHTML = "<p style='font-size:18px; color:#555;'>No products found.</p>";
      return;
    }
    filtered.forEach((prod, index) => {
      const card = document.createElement("article");
      card.classList.add("product-card");
      card.tabIndex = 0;
      card.setAttribute("aria-label", prod.name + ", Rs" + prod.price.toFixed(2));

      
      card.style.transitionDelay = `${index * 100}ms`;

      const imageWrapper = document.createElement("div");
      imageWrapper.classList.add("product-image-wrapper");
      const img = document.createElement("img");
      img.src = prod.image;
      img.alt = prod.name;
      imageWrapper.appendChild(img);
      imageWrapper.addEventListener("click", () => openModal(prod));
      imageWrapper.addEventListener("keypress", e => {
        if(e.key === "Enter" || e.key === " ") {
          e.preventDefault();
          openModal(prod);
        }
      });
      const info = document.createElement("div");
      info.classList.add("product-info");
      const name = document.createElement("h3");
      name.classList.add("product-name");
      name.textContent = prod.name;
      const price = document.createElement("p");
      price.classList.add("product-price");
      price.textContent = "Rs" + prod.price.toFixed(2);
      const addBtn = document.createElement("button");
      addBtn.classList.add("add-to-cart-btn");
      addBtn.textContent = "Add to Cart";
      addBtn.type = "button";
      addBtn.addEventListener("click", () => {
        openModal(prod);
      });
      info.appendChild(name);
      info.appendChild(price);
      info.appendChild(addBtn);
      card.appendChild(imageWrapper);
      card.appendChild(info);
      productsGrid.appendChild(card);

     
      requestAnimationFrame(() => {
        card.classList.add("visible");
      });
    });
  }

  function selectCategory(cat) {
    currentCategory = cat;
    categoryLabel.textContent = cat;
    categoryToggleBtn.setAttribute("aria-expanded", "false");
    categoryList.classList.remove("active");
    renderCategories();
    renderProducts();
  }

  categoryToggleBtn.addEventListener("click", () => {
    const expanded = categoryToggleBtn.getAttribute("aria-expanded") === "true";
    if(expanded) {
      categoryToggleBtn.setAttribute("aria-expanded", "false");
      categoryList.classList.remove("active");
    } else {
      categoryToggleBtn.setAttribute("aria-expanded", "true");
      categoryList.classList.add("active");
      const firstOption = categoryList.querySelector("button");
      if(firstOption) firstOption.focus();
    }
  });

  document.addEventListener("click", e => {
    if(!categoryToggleBtn.contains(e.target) && !categoryList.contains(e.target)) {
      categoryToggleBtn.setAttribute("aria-expanded", "false");
      categoryList.classList.remove("active");
    }
  });

  categoryToggleBtn.addEventListener("keydown", e => {
    if(e.key === "ArrowDown" || e.key === "Enter" || e.key === " ") {
      e.preventDefault();
      categoryToggleBtn.setAttribute("aria-expanded", "true");
      categoryList.classList.add("active");
      const firstOption = categoryList.querySelector("button");
      if(firstOption) firstOption.focus();
    }
  });

  categoryList.addEventListener("keydown", e => {
    const options = Array.from(categoryList.querySelectorAll("button"));
    let index = options.indexOf(document.activeElement);
    if(e.key === "ArrowDown") {
      e.preventDefault();
      index = (index + 1) % options.length;
      options[index].focus();
    } else if(e.key === "ArrowUp") {
      e.preventDefault();
      index = (index - 1 + options.length) % options.length;
      options[index].focus();
    } else if(e.key === "Escape") {
      e.preventDefault();
      categoryToggleBtn.setAttribute("aria-expanded", "false");
      categoryList.classList.remove("active");
      categoryToggleBtn.focus();
    } else if(e.key === "Enter" || e.key === " ") {
      e.preventDefault();
      options[index].click();
    }
  });

  function openModal(prod) {
    currentProduct = prod;
    selectedColor = prod.colors[0];
    selectedSize = prod.sizes[0];
    modalImage.src = prod.image;
    modalImage.alt = prod.name;
    modalTitle.textContent = prod.name;
    modalDesc.textContent = prod.description;
    renderColors(prod.colors);
    renderSizes(prod.sizes);
    modalAddToCartBtn.textContent = `Add to Cart - Rs${prod.price.toFixed(2)}`;
    modalAddToCartBtn.disabled = false;
    modalBg.classList.add("active");
    modalBg.focus();
  }

  function closeModal() {
    modalBg.classList.remove("active");
    currentProduct = null;
  }

  modalCloseBtn.addEventListener("click", closeModal);
  modalBg.addEventListener("click", e => {
    if(e.target === modalBg) {
      closeModal();
    }
  });

  document.addEventListener("keydown", e => {
    if(e.key === "Escape" && modalBg.classList.contains("active")) {
      closeModal();
    }
  });

  function renderColors(colors) {
    colorOptionsContainer.innerHTML = "";
    colors.forEach(color => {
      const circle = createColorCircle(color);
      if(color === selectedColor) circle.classList.add("selected");
      colorOptionsContainer.appendChild(circle);
    });
  }

  function selectColor(color) {
    selectedColor = color;
    const circles = colorOptionsContainer.querySelectorAll(".color-circle");
    circles.forEach(c => {
      if(c.classList.contains(color)) {
        c.classList.add("selected");
      } else {
        c.classList.remove("selected");
      }
    });
  }

  function renderSizes(sizes) {
    sizeOptionsContainer.innerHTML = "";
    sizes.forEach(size => {
      const btn = createSizeBtn(size);
      if(size === selectedSize) btn.classList.add("selected");
      sizeOptionsContainer.appendChild(btn);
    });
  }

  function selectSize(size) {
    selectedSize = size;
    const sizeBtns = sizeOptionsContainer.querySelectorAll(".size-btn");
    sizeBtns.forEach(btn => {
      if(btn.textContent === size) {
        btn.classList.add("selected");
      } else {
        btn.classList.remove("selected");
      }
    });
  }

  modalAddToCartBtn.addEventListener("click", () => {
    if(!selectedColor || !selectedSize) {
      alert("Please select a color and size.");
      return;
    }
    let cart = JSON.parse(localStorage.getItem("cart")) || [];

    const cartItem = {
      id: currentProduct.id,
      name: currentProduct.name,
      price: currentProduct.price,
      image: currentProduct.image,
      color: selectedColor,
      size: selectedSize,
      quantity: 1
    };

    const existing = cart.find(item => 
      item.id === cartItem.id && 
      item.color === cartItem.color && 
      item.size === cartItem.size
    );

    if (existing) {
      existing.quantity += 1;
    } else {
      cart.push(cartItem);
    }

    localStorage.setItem("cart", JSON.stringify(cart));

    alert(`Added ${cartItem.name} (${cartItem.color}, ${cartItem.size}) to cart.`);

    closeModal();

  });

  renderCategories();
  renderProducts();
</script>
<!-- AOS Animation JS -->
<script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
<script>
  AOS.init({
    duration: 1000,
    once: true,
  });
</script>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script>
// Scroll background change
  window.addEventListener('scroll', function() {
    const header = document.getElementById('main-header');
    if (window.scrollY > 50) {
      header.classList.add('scrolled');
    } else {
      header.classList.remove('scrolled');
    }
  });
</script>
<!-- Sticky Cart Button -->
<a href="cart.html" class="sticky-cart">
  <i class="fas fa-shopping-cart"></i>
</a>

</body>
</html>
